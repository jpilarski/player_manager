<Window x:Class="Pilarski.PlayerManager.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Pilarski.PlayerManager.UI"
        xmlns:converters="clr-namespace:Pilarski.PlayerManager.UI.Converters"
        mc:Ignorable="d"
        Title="Player Manager 2026" Height="650" Width="1100"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <converters:ImagePathToBitmapConverter x:Key="PathToImageConv"/>
    </Window.Resources>

    <Grid Margin="15">
        <TabControl>
            <TabItem Header=" PLAYERS " FontSize="14" FontWeight="Bold">
                <Grid Margin="0,10,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <Button Content="ADD PLAYER" Command="{Binding AddPlayerCommand}" 
                                Width="120" Height="30" Margin="0,0,10,0" Background="#DDDDDD"/>
                        <Button Content="EDIT" Command="{Binding EditPlayerCommand}"
                                Width="80" Height="30" Margin="0,0,10,0"/>
                        <Button Content="DELETE" Command="{Binding DeletePlayerCommand}" 
                                Width="80" Height="30" Margin="0,0,10,0" Foreground="Red"/>
                    </StackPanel>

                    <DataGrid Grid.Row="1" 
                              ItemsSource="{Binding Players}" 
                              SelectedItem="{Binding SelectedPlayer}" 
                              AutoGenerateColumns="False" 
                              IsReadOnly="True"
                              SelectionMode="Single"
                              GridLinesVisibility="Horizontal"
                              RowHeight="60">

                        <DataGrid.Columns>
                            <DataGridTemplateColumn Header="PHOTO" Width="70">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Image Source="{Binding ImagePath, Converter={StaticResource PathToImageConv}}" 
                                               Height="50" Width="50" Stretch="Uniform"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTextColumn Header="NAME" Binding="{Binding Name}" Width="200" FontWeight="Bold"/>
                            <DataGridTextColumn Header="NAT." Binding="{Binding Nationality}" Width="80"/>
                            <DataGridTextColumn Header="POS." Binding="{Binding Position}" Width="60"/>
                            <DataGridTextColumn Header="OVERALL" Binding="{Binding Overall}" Width="80" FontWeight="Bold"/>

                            <DataGridTextColumn Header="VALUE (€)" Binding="{Binding MarketValue, StringFormat={}{0:N0}}" Width="100"/>
                            <DataGridTextColumn Header="CLUB" Binding="{Binding ClubId}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem Header=" CLUBS " FontSize="14" FontWeight="Bold">
                <Grid Margin="0,10,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <Button Content="ADD CLUB" Command="{Binding AddClubCommand}" 
                                Width="120" Height="30" Margin="0,0,10,0" Background="#DDDDDD"/>
                        <Button Content="EDIT" Command="{Binding EditClubCommand}" 
                                Width="80" Height="30" Margin="0,0,10,0"/>
                        <Button Content="DELETE" Command="{Binding DeleteClubCommand}"
                                Width="80" Height="30" Margin="0,0,10,0" Foreground="Red"/>
                    </StackPanel>

                    <DataGrid Grid.Row="1" 
                              ItemsSource="{Binding Clubs}" 
                              SelectedItem="{Binding SelectedClub}" 
                              AutoGenerateColumns="False" 
                              IsReadOnly="True"
                              RowHeight="60">
                        <DataGrid.Columns>
                            <DataGridTemplateColumn Header="LOGO" Width="70">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Image Source="{Binding ImagePath, Converter={StaticResource PathToImageConv}}" 
                                               Height="50" Width="50" Stretch="Uniform"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTextColumn Header="CLUB NAME" Binding="{Binding Name}" Width="200" FontWeight="Bold"/>
                            <DataGridTextColumn Header="COUNTRY" Binding="{Binding Country}" Width="100"/>
                            <DataGridTextColumn Header="FOUNDED" Binding="{Binding FoundingYear}" Width="80"/>
                            <DataGridTextColumn Header="STADIUM" Binding="{Binding Stadium}" Width="150"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>